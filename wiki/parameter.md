📙 [参数详解](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/parameter.md) → :house: **[返回主页面](https://github.com/airbirdx/fgo-auto-run)**

:one: [如何运行](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/howtorun.md) → 📙 [参数详解](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/parameter.md) → :three: [刷图示例](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/example.md) → :four: [配置环境](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/environment.md) → :five: [文件架构](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/architecture.md) → 1️⃣ [如何运行](https://github.com/airbirdx/fgo-auto-run/blob/master/wiki/howtorun.md)

---

本章节中所提到的 `默认值` 为参数未定义情况下的数值。

# 攻略次数

:sunny: 本脚本提供以下几种选择方式，但 **同一次运行只能够使用一种模式**，其他几种需要置为 -1。

指定参数为 `n` 。

| 参数 | 描述                                                         |
| :----: | ---- |
| times | 刷指定副本 `n` 次, `n` 需要大于 0|
| materials | 刷指定副本 `x` 次, 直到有 `n` 次副本掉落了材料。|
| apples | 刷指定副本 `x` 次, 期间将会使用 `金/银/铜` 苹果 `n` 个，直到体力值不足刷取下一次副本停止。 |
| stones |  刷指定副本 `x` 次, 期间将会使用 ~~`圣晶石`~~ `彩` 苹果 `n` 个，直到体力值不足刷取下一次副本停止。 | 

---

:abcd: `materials` 有以下几点需要注意。

* 需要在 `./cfg` 文件夹下放置你所需要刷取的素材图标。
* 素材图标为需要将其命名为 `material.png`。
* 本脚本只会记录你这次刷图，有无目标素材掉落，如果掉落了 2 个或者更多，也只会按照 1 次素材掉落进行计算。
* 所以如果脚本正常执行完，你所获取的材料数是 `>= n` 的。

---

:abcd: `apples` 有以下几点需要注意 。

* 金苹果代号为 `Au` ，银苹果代号为 `Ag` ，铜苹果代号为 `Cu` 。
* 参数 `n` 只有在 `金/银` 苹果下有用。`铜` 苹果因为使用一次无法具体统计是多少个，所以在使用 `铜` 苹果时，该参数无效。
* 格式 `['Au', 2]` ，刷副本期间会使用 `2` 个金苹果


# 增加体力

☀️ 是否自动增加体力。

| 参数 | 描述                                                         |
| :----: | ---- |
| en_apple | 在体力不足时，是否可以使用 `苹果` 自动增加体力值|
| en_stone | 在体力不足时，是否可以使用 `圣晶石` 自动增加体力值|

| 参数 | 描述                                                         |
| :----: | :----: |
| 0 | 不可以使用|
| 1 | 可以使用 |

* 当两个都 `enable` 时，会优先使用苹果，苹果不足时，再使用圣晶石。

# 助战选择

☀️ 选择合适助战。


| 参数 | 描述                                                         |
| :----: | ---- |
| mode | 助战选择模式 |
| rank | 助战职阶 |
| refresh | 在没有找到所需助战时，刷新列表， 最多刷新 `n` 次|
| manpo | 是否需要满破礼装   | 
| keepgo |   没有找到所需助战时，是否继续战斗 | 

需要将你所设定的助战相关的图片放置在 `./lib/cfg` 文件夹下。可以为从者头像、技能或礼装。助战相关图片明明规则如下表所示。

一种或者几种类别都可以，并不一定要求所有的类别，看个人需要。
| 类别 | 命名                                                         |
| :----: | ---- |
| 从者 | support0/1/2/x.png `( 0/1/2.. 表示某一从者可能有多种头像立绘 )` |
| 技能 | skill.png                                                    |
| 礼装 | craft.png `( 如果几种不同的礼装都可以，可以在设为 craft0/1/2.png )` |

---

:abcd: `mode` 设定助战选择模式，默认值设定为 `0`。

* 助战模式有以下几种可供选择。
  * `= 0` 表示不选择特定助战
  * `> 0` 表示选择特定助战
* 如果另外还指定了助战礼装，在 `mode > 0` 模式下还有几种细分模式，对应说明可参见下表。
  * 只有当 `./cfg` 路径下存在 `craft.png` 礼装文件的时候才会进行对应 `mode = 1/2/3` 的选择

| 模式  | 简介 | 简介 (`满破 == 满破礼装 / 未满破 == 未满破礼装`) |
| :---: | :---: | ------------------------------------------------------------ |
| `= 0` | 0    | 选择列表中第一个从者作为助战从者，此时自动忽略 `./cfg` 文件夹下的助战相关设定 |
| `> 0` | 1    | 礼装筛选过程中 **只选择满破** |
|       | 2   | 礼装筛选过程中 **优先选择满破**，如果没有，再选取出现过的 **未满破**|
|       | 3 | 礼装筛选过程中 **优先选择满破**，如果没有，再选取出现过的 **未满破** |
| |  | 如果仍然没有，筛选助战时略过礼装，选择最后一次刷新中第一个助战从者 |




| 模式  | 简介 | 简介 (`满破 == 满破礼装 / 未满破 == 未满破礼装`) |
| :---: | :---: | ------------------------------------------------------------ |
| `= 0` | 0    | 选择列表中第一个从者作为助战从者，此时自动忽略 `./cfg` 文件夹下的助战相关设定 |
| `> 0` | 1    | 从者/礼装 筛选 |

礼装筛选中，如果设定了满破。 **优先选择满破**。如果没有设定，**满破** 与 **未满破** 哪一个先刷取到，就选择哪一个。

---

:abcd: `rank` 为助战职阶，默认值设定为 `0` 。

* 详细参数设定见下表，

| 代码 |  0   |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
| 职阶 | 全 |  剑  |  弓  |  枪  |  骑  |  术  |  杀  |  狂  |  额外  | 合 |

* 可以通过此参数设定为你想要选择的助战职阶。
* 可以设定为一个职阶，也可以设定为部分职阶。
* 可以设定为数字或字符串，设定值见下表。例如，

```
rank = 123     # 或 = '123'  # 表示从上三骑中选择符合条件的助战
rank = 4567    # 或 = '4567' # 表示从下四骑中选择符合条件的助战
rank = 666     # 或 = '666'  # 表示从杀阶选择合适的助战，重复设定无效
```

---

:abcd: `refresh` 为助战列表刷新次数 `n`，默认值设定为 `1` 。

* 如果所设定职阶当前的助战列表中都没有刷取到符合设定的助战，那么将进行一次刷新，再次尝试匹配。
* 刷新 `n` 次后依然没有筛选到合适的助战，脚本将会给出提示，然后结束执行。

```python
# default_support_mode = 0       # range: 0/1/2/3
# default_support_rank = 0       # range: 0/1/2/3/4/5/6/7/8/9
# default_support_refresh = 1    # range: 0/1/2/3/...
```

---

:abcd: `keepgo` 

| 参数 | 描述                                                         |
| :----: | ---- |
| 0 | 找不到合适助战，退出脚本|
| 1 | 找不到合适助战，随机选择，继续战斗 |

# 优先级选项

:abcd: `servant`  为从者优先级，默认值设定为 空。

* 从者编号 `0~5`，从者编号需要在 `./cfg` 里对应查找。这里可能需要先自动打一局，然后生成一些图片。
* `1032` 表示设定从者优先级 `servant1 > 0 > 3 > 2` 。

---

:abcd: `color`  为色卡优先级，默认值设定为 `RBG` 。

* `R(ed)` 表示 `Blaster-力击`，`G(reen)` 表示 `Quick-迅击`，`B(lue)` 表示 `Arts-技击` 。
* `RBG`表示优先级 `Blaster > Arts > Quick` 。

---

:abcd: `chain`  为色卡优先级，默认值设定为 `0` 。

| 参数 | 描述                                                         |
| :----: | :----: |
| 0 | 不做连携 |
| 1 | Extra 额外攻击连携 |
| 2 | 色卡连携 |
| 3 | 自动 |

# 技能选项

| 参数 | 描述       |
| :----: | :----: |
| value | 技能顺序 |
| unit | 释放单位 |

---

:abcd: `value` 为技能释放相关参数，默认值设定为空 。

* 共十四个技能代码，详见下表。
* 参数中间可以自由添加空格增加可读性。
* 不同 `轮次/回合` 之间使用 `(n)` 进行标注分隔。
| 从者 1     | 从者 2    | 从者 3     | 御主礼装  | 换人 | 切换敌人 |
| :----: | :----: | :----: | :----: | :----: | :------: |
| a1/2/3 | b1/2/3 | c1/2/3 | ms1/2/3 | sw    |    v     |

* 说明 1，指向性技能，`a2[31]` 表示将 `a`从者的 `2` 技能释放给 `3` 个在场从者的第 `1` 位从者。
* 说明 2，换人技能，`sw34` 表示使用换人礼装将队列中从者 3 与从者 4 交换。
* 说明 3，对敌人指向性技能，`a2[01]` 将 `a`从者的 `2` 技能对敌方 `1` 怪物或从者释放。
  * 中括号第一个数字 `0` 表示向敌方释放技能
  * 第二个数字表示敌方怪物或从者的编号
* 说明 4，切换敌人，`v1` 表示攻击目标切换为敌人 1，敌方与己方满配情况下的编号可参考下表。

| 敌方       |        |        | 中线 |        |        |   己方 |
| ---------- | :----: | :----: | :--: | :----: | :----: | -----: |
| ↖          |   ——   |   ——   |  +   |   ——   |   ——   |      ↗ |
| 敌人 3     | 敌人 2 | 敌人 1 |  \|  | 从者 1 | 从者 2 | 从者 3 |
| ↙ |   ——   |   ——   |  +   |   ——   |   ——   |      ↘ |

---

:abcd: `unit` 为技能释放参考单位 ，有以下两种选择。

| 参数 | 描述       |
| :----: | :----: |
| round | 第 `n` 面敌人的第一个回合 |
| turn | 第 `n` 个回合|

*Example:*
```ini
value = (1)v2 a3 (2)a1 b1 b2 b3 c1 c3[31] ms1[31] ms2[31] ms3[31] (3)
unit  = round
```

# 宝具参数

| 参数 | 描述       |
| :----: | :----: |
| value | 技能顺序 |
| unit | 释放单位 |

---

:abcd: `value` 为宝具释放相关参数，默认值设定为空 。

* 如果本回合需要释放宝具，那么需要此参数。`a/b/c` 分别表示第 `1/2/3` 位从者的宝具。`x` 表示普通指令卡。
* `axx` 表示一个战斗回合三张指令卡中，第一张为 `从者 1 宝具卡`，第二三张为 `普通指令卡`。
* `xab` 表示一个战斗回合三张指令中卡，第一张为 `普通指令卡`，第二张为 `从者 1 宝具卡`，第三张为 `从者 2 宝具卡`。

---

:abcd: `unit` 为技能释放参考单位 ，同上。

*Example:*
```ini
value = (1)axx(2)bxx(3)axx
unit  = round
```


# 旋转参数

:abcd: `rotation` 是旋转参数，默认值设定为 `0`。

* 为了调整截图到手机上的图片是不是 `1920x1080` 大小，`w = 1920, h = 1080` 。
* 如果不是，可以调整这个参数来旋转图像，范围为 `0~3`。

:sunny: 这个参数注意不要注释掉，不然会引起程序异常退出。

```
rotation = 0        # range : 0/1/2/3, 1 for meizu phone
```

